<div class="min-h-screen bg-gradient-main flex items-center justify-center font-montserrat p-4 sm:p-6 lg:p-8" [@pageTransition]>
  <div class="bg-white rounded-[20px] sm:rounded-[25px] lg:rounded-[30px] shadow-[0_5px_15px_rgba(0,0,0,0.35)] relative overflow-hidden w-full max-w-[320px] xs:max-w-[400px] sm:max-w-[500px] md:max-w-[600px] lg:max-w-[768px] min-h-[500px] xs:min-h-[520px] sm:min-h-[460px] lg:min-h-[480px] animate-fade-in">
    
    <!-- Mobile Layout (xs to md) -->
    <div class="block lg:hidden w-full h-full">
      <div class="flex flex-col items-center justify-center px-6 xs:px-8 sm:px-10 py-8 sm:py-12 h-full animate-slide-in-left">
        <div class="mb-6 sm:mb-8 text-center">
          <button 
            (click)="goBack()"
            class="absolute top-4 left-4 p-2 text-gray-600 hover:text-primary transition-colors duration-200"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>
        </div>
        
        <h1 class="text-xl xs:text-2xl sm:text-3xl font-bold mb-4 sm:mb-6">Verify OTP</h1>
        
        <div class="mb-4 sm:mb-6 text-center">
          <p class="text-sm sm:text-base text-gray-600 mb-2">We've sent a verification code to</p>
          <p class="text-sm sm:text-base font-semibold text-primary">{{phone}}</p>
        </div>
        
        <!-- OTP Input Fields -->
        <div class="flex justify-center space-x-2 sm:space-x-3 mb-6 sm:mb-8">
          <input 
            *ngFor="let digit of otpDigits; let i = index"
            [id]="'otp-' + i"
            type="text" 
            maxlength="1"
            [value]="digit"
            (input)="onOtpDigitChange(i, $event)"
            (keydown)="onKeyDown(i, $event)"
            class="w-10 h-10 xs:w-12 xs:h-12 sm:w-14 sm:h-14 text-center text-lg xs:text-xl sm:text-2xl font-bold border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-all duration-300 bg-gray-50"
          >
        </div>
        
        <button 
          (click)="verifyOtp()"
          [disabled]="otp.length !== 6"
          class="bg-primary text-white text-xs xs:text-sm py-2.5 xs:py-3 px-8 xs:px-11 border border-transparent rounded-lg font-semibold tracking-wider uppercase mb-4 sm:mb-6 cursor-pointer hover:bg-primary-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 w-full xs:w-auto disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none"
        >
          Verify OTP
        </button>
        
        <div class="text-center">
          <p class="text-xs sm:text-sm text-gray-600 mb-2">Didn't receive the code?</p>
          <button 
            *ngIf="!canResend"
            disabled
            class="text-xs sm:text-sm text-gray-400 cursor-not-allowed"
          >
            Resend in {{countdown}}s
          </button>
          <button 
            *ngIf="canResend"
            (click)="resendOtp()"
            class="text-xs sm:text-sm text-primary font-semibold hover:text-primary-light transition-colors duration-200"
          >
            Resend OTP
          </button>
        </div>
      </div>
    </div>

    <!-- Desktop Layout (lg and above) -->
    <div class="hidden lg:block w-full h-full">
      <!-- OTP Form Container -->
      <div class="absolute top-0 left-0 w-1/2 h-full flex items-center justify-center z-20 transition-all duration-600 ease-in-out">
        <div class="bg-white flex flex-col items-center justify-center px-8 xl:px-10 h-full animate-slide-in-left relative">
          <button 
            (click)="goBack()"
            class="absolute top-6 left-6 p-2 text-gray-600 hover:text-primary transition-colors duration-200"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>
          
          <h1 class="text-2xl xl:text-3xl font-bold mb-4 xl:mb-5">Verify OTP</h1>
          
          <div class="mb-4 xl:mb-5 text-center">
            <p class="text-sm xl:text-base text-gray-600 mb-2">We've sent a verification code to</p>
            <p class="text-sm xl:text-base font-semibold text-primary">{{phone}}</p>
          </div>
          
          <!-- OTP Input Fields -->
          <div class="flex justify-center space-x-3 mb-6 xl:mb-8">
            <input 
              *ngFor="let digit of otpDigits; let i = index"
              [id]="'otp-' + i"
              type="text" 
              maxlength="1"
              [value]="digit"
              (input)="onOtpDigitChange(i, $event)"
              (keydown)="onKeyDown(i, $event)"
              class="w-12 h-12 xl:w-14 xl:h-14 text-center text-xl xl:text-2xl font-bold border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-all duration-300 bg-gray-50"
            >
          </div>
          
          <button 
            (click)="verifyOtp()"
            [disabled]="otp.length !== 6"
            class="bg-primary text-white text-xs py-2.5 xl:py-3 px-8 xl:px-11 border border-transparent rounded-lg font-semibold tracking-wider uppercase mb-4 xl:mb-5 cursor-pointer hover:bg-primary-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none"
          >
            Verify OTP
          </button>
          
          <div class="text-center">
            <p class="text-xs xl:text-sm text-gray-600 mb-2">Didn't receive the code?</p>
            <button 
              *ngIf="!canResend"
              disabled
              class="text-xs xl:text-sm text-gray-400 cursor-not-allowed"
            >
              Resend in {{countdown}}s
            </button>
            <button 
              *ngIf="canResend"
              (click)="resendOtp()"
              class="text-xs xl:text-sm text-primary font-semibold hover:text-primary-light transition-colors duration-200"
            >
              Resend OTP
            </button>
          </div>
        </div>
      </div>

      <!-- Decorative Container -->
      <div class="absolute top-0 left-1/2 w-1/2 h-full overflow-hidden transition-all duration-600 ease-in-out rounded-tl-[100px] xl:rounded-tl-[150px] rounded-bl-[80px] xl:rounded-bl-[100px] z-[1000]">
        <div class="bg-gradient-toggle h-full text-white relative -left-full w-[200%] transition-all duration-600 ease-in-out">
          <div class="absolute w-1/2 h-full flex items-center justify-center flex-col px-6 xl:px-8 text-center top-0 right-0 animate-slide-in-right">
            <div class="mb-6 xl:mb-8">
              <div class="w-16 h-16 xl:w-20 xl:h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-4 xl:mb-5 mx-auto animate-pulse-slow">
                <svg class="w-8 h-8 xl:w-10 xl:h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                </svg>
              </div>
            </div>
            <h1 class="text-xl xl:text-2xl font-bold mb-4 xl:mb-5 animate-bounce-in">Secure Verification</h1>
            <p class="text-sm xl:text-base leading-5 xl:leading-6 tracking-wide animate-fade-in">Enter the 6-digit code sent to your phone to complete the verification process</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
