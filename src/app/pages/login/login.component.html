<div
  class="min-h-screen bg-gradient-main flex items-center justify-center font-montserrat p-4 sm:p-6 lg:p-8"
  [@pageTransition]
>
  <div
    class="bg-white rounded-[20px] sm:rounded-[25px] lg:rounded-[30px] shadow-[0_5px_15px_rgba(0,0,0,0.35)] relative overflow-hidden w-full max-w-[320px] xs:max-w-[400px] sm:max-w-[500px] md:max-w-[600px] lg:max-w-[768px] min-h-[500px] xs:min-h-[520px] sm:min-h-[460px] lg:min-h-[480px] animate-fade-in"
  >
    <!-- Mobile Layout (xs to md) -->
    <div class="block lg:hidden w-full h-full">
      <form
        (ngSubmit)="onSubmit()"
        class="flex flex-col items-center justify-center px-6 xs:px-8 sm:px-10 py-8 sm:py-12 h-full animate-slide-in-left"
      >
        <h1 class="text-xl xs:text-2xl sm:text-3xl font-bold mb-4 sm:mb-6">
          Sign In
        </h1>

        <!-- Login Method Toggle -->
        <div
          class="flex bg-gray-100 rounded-lg p-1 mb-4 sm:mb-6 w-full max-w-xs"
        >
          <button
            type="button"
            (click)="toggleLoginMethod()"
            [class]="
              loginMethod === 'email'
                ? 'bg-white text-primary shadow-sm'
                : 'text-gray-600'
            "
            class="flex-1 py-2 px-4 text-xs sm:text-sm font-medium rounded-md transition-all duration-300 ease-in-out"
          >
            Email
          </button>
          <button
            type="button"
            (click)="toggleLoginMethod()"
            [class]="
              loginMethod === 'phone'
                ? 'bg-white text-primary shadow-sm'
                : 'text-gray-600'
            "
            class="flex-1 py-2 px-4 text-xs sm:text-sm font-medium rounded-md transition-all duration-300 ease-in-out"
          >
            Phone
          </button>
        </div>

        <app-social-icons></app-social-icons>

        <span
          class="text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6"
          *ngIf="loginMethod === 'email'"
          >or use your email password</span
        >
        <span
          class="text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6"
          *ngIf="loginMethod === 'phone'"
          >or use your phone number</span
        >

        <!-- Email/Password Fields -->
        <div *ngIf="loginMethod === 'email'" class="w-full animate-fade-in">
          <input
            type="email"
            placeholder="Email"
            [(ngModel)]="email"
            name="email"
            class="bg-gray-200 border-none my-2 px-3 xs:px-4 py-2.5 xs:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300"
          />

          <input
            type="password"
            placeholder="Password"
            [(ngModel)]="password"
            name="password"
            class="bg-gray-200 border-none my-2 px-3 xs:px-4 py-2.5 xs:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300"
          />
        </div>

        <!-- Phone/OTP Fields -->
        <div *ngIf="loginMethod === 'phone'" class="w-full animate-fade-in">
          <input
            type="tel"
            placeholder="Phone Number"
            [(ngModel)]="phone"
            name="phone"
            [disabled]="otpSent"
            class="bg-gray-200 border-none my-2 px-3 xs:px-4 py-2.5 xs:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300 disabled:opacity-60"
          />

          <input
            *ngIf="otpSent"
            type="text"
            placeholder="Enter OTP"
            [(ngModel)]="otp"
            name="otp"
            maxlength="6"
            class="bg-gray-200 border-none my-2 px-3 xs:px-4 py-2.5 xs:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300 animate-slide-up"
          />
        </div>

        <a
          *ngIf="loginMethod === 'email'"
          href="#"
          class="text-gray-700 text-xs xs:text-sm no-underline my-3 xs:my-4 hover:text-primary transition-colors duration-200"
          >Forget Your Password?</a
        >

        <button
          type="submit"
          class="bg-primary text-white text-xs xs:text-sm py-2.5 xs:py-3 px-8 xs:px-11 border border-transparent rounded-lg font-semibold tracking-wider uppercase mt-2 xs:mt-3 cursor-pointer hover:bg-primary-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 w-full xs:w-auto"
        >
          <span *ngIf="loginMethod === 'email'">Sign In</span>
          <span *ngIf="loginMethod === 'phone' && !otpSent">Send OTP</span>
          <span *ngIf="loginMethod === 'phone' && otpSent">Verify OTP</span>
        </button>

        <div class="mt-6 sm:mt-8 text-center">
          <span class="text-xs sm:text-sm text-gray-600"
            >Don't have an account?
          </span>
          <button
            type="button"
            (click)="navigateToRegister()"
            class="text-xs sm:text-sm text-primary font-semibold hover:text-primary-light transition-colors duration-200"
          >
            Sign Up
          </button>
        </div>
      </form>
    </div>

    <!-- Desktop Layout (lg and above) -->
    <div class="hidden lg:block w-full h-full">
      <!-- Login Form Container -->
      <div
        class="absolute top-0 left-0 w-1/2 h-full flex items-center justify-center z-20 transition-all duration-600 ease-in-out"
      >
        <form
          (ngSubmit)="onSubmit()"
          class="bg-white flex flex-col items-center justify-center px-8 xl:px-10 h-full animate-slide-in-left"
        >
          <h1 class="text-2xl xl:text-3xl font-bold mb-4 xl:mb-5">Sign In</h1>

          <!-- Login Method Toggle -->
          <div
            class="flex bg-gray-100 rounded-lg p-1 mb-3 xl:mb-4 w-full max-w-xs"
          >
            <button
              type="button"
              (click)="toggleLoginMethod()"
              [class]="
                loginMethod === 'email'
                  ? 'bg-white text-primary shadow-sm'
                  : 'text-gray-600'
              "
              class="flex-1 py-2 px-4 text-xs xl:text-sm font-medium rounded-md transition-all duration-300 ease-in-out"
            >
              Email
            </button>
            <button
              type="button"
              (click)="toggleLoginMethod()"
              [class]="
                loginMethod === 'phone'
                  ? 'bg-white text-primary shadow-sm'
                  : 'text-gray-600'
              "
              class="flex-1 py-2 px-4 text-xs xl:text-sm font-medium rounded-md transition-all duration-300 ease-in-out"
            >
              Phone
            </button>
          </div>

          <app-social-icons></app-social-icons>

          <span
            class="text-xs xl:text-sm text-gray-600 mb-3 xl:mb-4"
            *ngIf="loginMethod === 'email'"
            >or use your email password</span
          >
          <span
            class="text-xs xl:text-sm text-gray-600 mb-3 xl:mb-4"
            *ngIf="loginMethod === 'phone'"
            >or use your phone number</span
          >

          <!-- Email/Password Fields -->
          <div *ngIf="loginMethod === 'email'" class="w-full animate-fade-in">
            <input
              type="email"
              placeholder="Email"
              [(ngModel)]="email"
              name="email"
              class="bg-gray-200 border-none my-1.5 xl:my-2 px-3 xl:px-4 py-2.5 xl:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300"
            />

            <input
              type="password"
              placeholder="Password"
              [(ngModel)]="password"
              name="password"
              class="bg-gray-200 border-none my-1.5 xl:my-2 px-3 xl:px-4 py-2.5 xl:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300"
            />
          </div>

          <!-- Phone/OTP Fields -->
          <div *ngIf="loginMethod === 'phone'" class="w-full animate-fade-in">
            <input
              type="tel"
              placeholder="Phone Number"
              [(ngModel)]="phone"
              name="phone"
              [disabled]="otpSent"
              class="bg-gray-200 border-none my-1.5 xl:my-2 px-3 xl:px-4 py-2.5 xl:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300 disabled:opacity-60"
            />

            <input
              *ngIf="otpSent"
              type="text"
              placeholder="Enter OTP"
              [(ngModel)]="otp"
              name="otp"
              maxlength="6"
              class="bg-gray-200 border-none my-1.5 xl:my-2 px-3 xl:px-4 py-2.5 xl:py-3 text-sm rounded-lg w-full outline-none focus:ring-2 focus:ring-primary transition-all duration-300 animate-slide-up"
            />
          </div>

          <a
            *ngIf="loginMethod === 'email'"
            href="#"
            class="text-gray-700 text-sm no-underline my-3 xl:my-4 hover:text-primary transition-colors duration-200"
            >Forget Your Password?</a
          >

          <button
            type="submit"
            class="bg-primary text-white text-xs py-2.5 xl:py-3 px-8 xl:px-11 border border-transparent rounded-lg font-semibold tracking-wider uppercase mt-2 xl:mt-3 cursor-pointer hover:bg-primary-light hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300"
          >
            <span *ngIf="loginMethod === 'email'">Sign In</span>
            <span *ngIf="loginMethod === 'phone' && !otpSent">Send OTP</span>
            <span *ngIf="loginMethod === 'phone' && otpSent">Verify OTP</span>
          </button>
        </form>
      </div>

      <!-- Toggle Container -->
      <div
        class="absolute top-0 left-1/2 w-1/2 h-full overflow-hidden transition-all duration-600 ease-in-out rounded-tl-[100px] xl:rounded-tl-[150px] rounded-bl-[80px] xl:rounded-bl-[100px] z-[1000]"
      >
        <div
          class="bg-gradient-toggle h-full text-white relative -left-full w-[200%] transition-all duration-600 ease-in-out"
        >
          <div
            class="absolute w-1/2 h-full flex items-center justify-center flex-col px-6 xl:px-8 text-center top-0 right-0 animate-slide-in-right"
          >
            <h1
              class="text-xl xl:text-2xl font-bold mb-4 xl:mb-5 animate-bounce-in"
            >
              Hello, Friend!
            </h1>
            <p
              class="text-sm xl:text-base leading-5 xl:leading-6 tracking-wide mb-4 xl:mb-5 animate-fade-in"
            >
              Register with your personal details to use all of site features
            </p>
            <button
              (click)="navigateToRegister()"
              class="bg-transparent border border-white text-white text-xs py-2.5 xl:py-3 px-8 xl:px-11 rounded-lg font-semibold tracking-wider uppercase cursor-pointer hover:bg-white hover:text-primary hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300"
            >
              Sign Up
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
